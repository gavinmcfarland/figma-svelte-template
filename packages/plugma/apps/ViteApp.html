<style rel="stylesheet" crossorigin>#plugma-status.svelte-1ki8sly{z-index:1;position:absolute;top:0;bottom:0;right:0;left:0;padding:16px;background-color:var(--figma-color-bg)}.panel.svelte-1ki8sly{display:flex;background-color:var(--figma-color-bg-brand-tertiary);border:1px solid var(--figma-color-border);padding:8px;border-radius:4px;color:var(--figma-color-text);font-family:Inter,system-ui,Helvetica,Arial,sans-serif;font-display:optional;font-size:12px;box-sizing:border-box;justify-content:center;align-items:center;height:100%}.server-not-active.svelte-1ki8sly{display:flex;gap:4px;align-items:center}
</style>
<script type="module" crossorigin>var Ge=Object.defineProperty;var Ve=(t,e,n)=>e in t?Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>Ve(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function w(){}function Me(t){return t()}function be(){return Object.create(null)}function V(t){t.forEach(Me)}function Ie(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ye(t){return Object.keys(t).length===0}function qe(t,...e){if(t==null){for(const r of e)r(void 0);return w}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function He(t,e,n){t.$$.on_destroy.push(qe(e,n))}function F(t,e){t.appendChild(e)}function B(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function J(t){return document.createElement(t)}function we(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _e(t){return document.createTextNode(t)}function Ke(){return _e(" ")}function ye(){return _e("")}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Qe(t){return Array.from(t.childNodes)}function ze(t,e){e=""+e,t.data!==e&&(t.data=e)}let W;function U(t){W=t}function Je(){if(!W)throw new Error("Function called outside component initialization");return W}function Ze(t){Je().$$.on_mount.push(t)}const P=[],ve=[];let R=[];const Ee=[],Ae=Promise.resolve();let ae=!1;function Ne(){ae||(ae=!0,Ae.then(Pe))}function ie(){return Ne(),Ae}function fe(t){R.push(t)}const se=new Set;let A=0;function Pe(){if(A!==0)return;const t=W;do{try{for(;A<P.length;){const e=P[A];A++,U(e),Xe(e.$$)}}catch(e){throw P.length=0,A=0,e}for(U(null),P.length=0,A=0;ve.length;)ve.pop()();for(let e=0;e<R.length;e+=1){const n=R[e];se.has(n)||(se.add(n),n())}R.length=0}while(P.length);for(;Ee.length;)Ee.pop()();ae=!1,se.clear(),U(t)}function Xe(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(fe)}}function et(t){const e=[],n=[];R.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),R=e}const Z=new Set;let T;function Re(){T={r:0,c:[],p:T}}function De(){T.r||V(T.c),T=T.p}function C(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(Z.has(t))return;Z.add(t),T.c.push(()=>{Z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function te(t){t&&t.c()}function Y(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),fe(()=>{const i=t.$$.on_mount.map(Me).filter(Ie);t.$$.on_destroy?t.$$.on_destroy.push(...i):V(i),t.$$.on_mount=[]}),o.forEach(fe)}function q(t,e){const n=t.$$;n.fragment!==null&&(et(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){t.$$.dirty[0]===-1&&(P.push(t),Ne(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,n,r,o,i,s=null,f=[-1]){const l=W;U(t);const c=t.$$={fragment:null,ctx:[],props:i,update:w,not_equal:o,bound:be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:be(),dirty:f,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);let d=!1;if(c.ctx=n?n(t,e.props||{},(_,S,...I)=>{const g=I.length?I[0]:S;return c.ctx&&o(c.ctx[_],c.ctx[_]=g)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](g),d&&tt(t,_)),S}):[],c.update(),d=!0,V(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const _=Qe(e.target);c.fragment&&c.fragment.l(_),_.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor),Pe()}U(l)}class Be{constructor(){oe(this,"$$");oe(this,"$$set")}$destroy(){q(this,1),this.$destroy=w}$on(e,n){if(!Ie(n))return w;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nt);let rt=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");function ot(t,e,n){let r=1e3,o=!0;async function i(){const s=document.getElementById("app");try{const f=await fetch(t);f.ok&&!o?(o=!0,s&&(s.style.display="block"),await ie(),n(o)):!f.ok&&o&&(o=!1,s.style.display="none",await ie(),n(o))}catch{o&&(o=!1,s&&(s.style.display="none"),await ie(),n(o))}}n(o),i(),setInterval(i,r)}function it(t){let e;return{c(){e=J("p"),e.textContent="Dev server inactive"},m(n,r){B(n,e,r)},p:w,d(n){n&&M(e)}}}function st(t){let e;return{c(){e=_e(t[0])},m(n,r){B(n,e,r)},p(n,r){r&1&&ze(e,n[0])},d(n){n&&M(e)}}}function lt(t){let e,n,r,o,i,s;function f(d,_){return d[0]?st:it}let l=f(t),c=l(t);return{c(){e=J("div"),n=J("div"),r=J("div"),o=we("svg"),i=we("path"),s=Ke(),c.c(),b(i,"fill-rule","evenodd"),b(i,"clip-rule","evenodd"),b(i,"d","M15.3463 8.16209C15.633 7.65235 16.3669 7.65235 16.6536 8.16209L24.3713 21.8823C24.6525 22.3822 24.2912 23 23.7176 23H8.28234C7.70872 23 7.34744 22.3822 7.62866 21.8823L15.3463 8.16209ZM16 12.3817C16.497 12.3817 16.9 12.7847 16.9 13.2817V16.3695C16.9 16.8666 16.497 17.2695 16 17.2695C15.5029 17.2695 15.1 16.8666 15.1 16.3695V13.2817C15.1 12.7847 15.5029 12.3817 16 12.3817ZM17.1 20C17.1 19.3925 16.6075 18.9 16 18.9C15.3924 18.9 14.9 19.3925 14.9 20V20.0685C14.9 20.6761 15.3924 21.1685 16 21.1685C16.6075 21.1685 17.1 20.6761 17.1 20.0685V20Z"),b(i,"fill","currentColor"),b(i,"fill-opacity","0.8"),b(o,"width","32"),b(o,"height","32"),b(o,"viewBox","0 0 32 32"),b(o,"fill","none"),b(o,"xmlns","http://www.w3.org/2000/svg"),b(r,"class","server-not-active svelte-1ki8sly"),b(n,"class","panel svelte-1ki8sly"),b(e,"id","plugma-status"),b(e,"class","container svelte-1ki8sly")},m(d,_){B(d,e,_),F(e,n),F(n,r),F(r,o),F(o,i),F(r,s),c.m(r,null)},p(d,[_]){l===(l=f(d))&&c?c.p(d,_):(c.d(1),c=l(d),c&&(c.c(),c.m(r,null)))},i:w,o:w,d(d){d&&M(e),c.d()}}}function ct(t,e,n){let{message:r=null}=e;return t.$$set=o=>{"message"in o&&n(0,r=o.message)},[r]}class ne extends Be{constructor(e){super(),je(this,e,ct,lt,me,{message:0})}}const N=[];function ut(t,e=w){let n;const r=new Set;function o(f){if(me(t,f)&&(t=f,n)){const l=!N.length;for(const c of r)c[1](),N.push(c,t);if(l){for(let c=0;c<N.length;c+=2)N[c][0](N[c+1]);N.length=0}}}function i(f){o(f(t))}function s(f,l=w){const c=[f,l];return r.add(c),r.size===1&&(n=e(o,i)||w),f(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:s}}const X=ut([]),le=10,Ce=(t=0)=>e=>`\x1B[${e+t}m`,Se=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Oe=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,p={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(p.modifier);const at=Object.keys(p.color),ft=Object.keys(p.bgColor);[...at,...ft];function dt(){const t=new Map;for(const[e,n]of Object.entries(p)){for(const[r,o]of Object.entries(n))p[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[r]=p[r],t.set(o[0],o[1]);Object.defineProperty(p,e,{value:n,enumerable:!1})}return Object.defineProperty(p,"codes",{value:t,enumerable:!1}),p.color.close="\x1B[39m",p.bgColor.close="\x1B[49m",p.color.ansi=Ce(),p.color.ansi256=Se(),p.color.ansi16m=Oe(),p.bgColor.ansi=Ce(le),p.bgColor.ansi256=Se(le),p.bgColor.ansi16m=Oe(le),Object.defineProperties(p,{rgbToAnsi256:{value(e,n,r){return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value(e){const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(i=>i+i).join(""));const o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>p.rgbToAnsi256(...p.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,o;if(e>=232)n=((e-232)*10+8)/255,r=n,o=n;else{e-=16;const f=e%36;n=Math.floor(e/36)/5,r=Math.floor(f/6)/5,o=f%6/5}const i=Math.max(n,r,o)*2;if(i===0)return 30;let s=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(n));return i===2&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>p.ansi256ToAnsi(p.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>p.ansi256ToAnsi(p.hexToAnsi256(e)),enumerable:!1}}),p}const E=dt(),K=(()=>{if(navigator.userAgentData){const t=navigator.userAgentData.brands.find(({brand:e})=>e==="Chromium");if(t&&t.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),$e=K!==0&&{level:K,hasBasic:!0,has256:K>=2,has16m:K>=3},ht={stdout:$e,stderr:$e};function pt(t,e,n){let r=t.indexOf(e);if(r===-1)return t;const o=e.length;let i=0,s="";do s+=t.slice(i,r)+e+n,i=r+o,r=t.indexOf(e,i);while(r!==-1);return s+=t.slice(i),s}function gt(t,e,n,r){let o=0,i="";do{const s=t[r-1]==="\r";i+=t.slice(o,s?r-1:r)+e+(s?`\r
`:`
`)+n,o=r+1,r=t.indexOf(`
`,o)}while(r!==-1);return i+=t.slice(o),i}const{stdout:xe,stderr:Le}=ht,de=Symbol("GENERATOR"),D=Symbol("STYLER"),G=Symbol("IS_EMPTY"),ke=["ansi","ansi","ansi256","ansi16m"],j=Object.create(null),mt=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=xe?xe.level:0;t.level=e.level===void 0?n:e.level},_t=t=>{const e=(...n)=>n.join(" ");return mt(e,t),Object.setPrototypeOf(e,H.prototype),e};function H(t){return _t(t)}Object.setPrototypeOf(H.prototype,Function.prototype);for(const[t,e]of Object.entries(E))j[t]={get(){const n=ee(this,pe(e.open,e.close,this[D]),this[G]);return Object.defineProperty(this,t,{value:n}),n}};j.visible={get(){const t=ee(this,this[D],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const he=(t,e,n,...r)=>t==="rgb"?e==="ansi16m"?E[n].ansi16m(...r):e==="ansi256"?E[n].ansi256(E.rgbToAnsi256(...r)):E[n].ansi(E.rgbToAnsi(...r)):t==="hex"?he("rgb",e,n,...E.hexToRgb(...r)):E[n][t](...r),yt=["rgb","hex","ansi256"];for(const t of yt){j[t]={get(){const{level:n}=this;return function(...r){const o=pe(he(t,ke[n],"color",...r),E.color.close,this[D]);return ee(this,o,this[G])}}};const e="bg"+t[0].toUpperCase()+t.slice(1);j[e]={get(){const{level:n}=this;return function(...r){const o=pe(he(t,ke[n],"bgColor",...r),E.bgColor.close,this[D]);return ee(this,o,this[G])}}}}const bt=Object.defineProperties(()=>{},{...j,level:{enumerable:!0,get(){return this[de].level},set(t){this[de].level=t}}}),pe=(t,e,n)=>{let r,o;return n===void 0?(r=t,o=e):(r=n.openAll+t,o=e+n.closeAll),{open:t,close:e,openAll:r,closeAll:o,parent:n}},ee=(t,e,n)=>{const r=(...o)=>wt(r,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(r,bt),r[de]=t,r[D]=e,r[G]=n,r},wt=(t,e)=>{if(t.level<=0||!e)return t[G]?"":e;let n=t[D];if(n===void 0)return e;const{openAll:r,closeAll:o}=n;if(e.includes("\x1B"))for(;n!==void 0;)e=pt(e,n.close,n.open),n=n.parent;const i=e.indexOf(`
`);return i!==-1&&(e=gt(e,o,r,i)),r+e+o};Object.defineProperties(H.prototype,j);const Q=H();H({level:Le?Le.level:0});class Fe{constructor(e={}){this.options={defaultIndentLevel:0,showTimestamp:!1,timestampFormat:"YYYY-MM-DD HH:mm:ss",debug:!1,...e},this.isProd=!0,this.currentIndent=this.options.defaultIndentLevel,this.currentType=null,this.forceLog=!1}format(e={}){return this.currentIndent=e.indent||this.options.defaultIndentLevel,this}log(e,n=null,r=!1){if(!this.options.debug&&this.isProd&&!r)return;const i=[this.formatLog(e[0],this.currentIndent,n),...e.slice(1)];if(this.options.showTimestamp){const s=new Date().toISOString();console.log(`[${s}]`,...i)}else console.log(...i);this.resetFormatting()}text(...e){return this.log(e,null,!0),this}info(...e){return this.log(e,"info"),this}success(...e){return this.log(e,"success"),this}error(...e){return this.log(e,"error",!0),this}warn(...e){return this.log(e,"warning",!0),this}formatLog(e,n=0,r){const o=" ".repeat(n*2),i=this.getPrefix(r);return`${o}${i}${e}`}resetFormatting(){this.currentIndent=this.options.defaultIndentLevel,this.currentType=null}getPrefix(e){switch(e){case"info":return Q.blue.bold("INFO: ");case"success":return Q.green.bold("SUCCESS: ");case"error":return Q.red.bold("ERROR: ");case"warning":return Q.yellow.bold("WARNING: ");default:return""}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ge=function(t,e){return ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},ge(t,e)};function Ue(t,e){ge(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function vt(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Et(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(f){s={error:f}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Ct(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Et(arguments[e]));return t}var We=function(){function t(e,n){this.target=n,this.type=e}return t}(),St=function(t){Ue(e,t);function e(n,r){var o=t.call(this,"error",r)||this;return o.message=n.message,o.error=n,o}return e}(We),Ot=function(t){Ue(e,t);function e(n,r,o){n===void 0&&(n=1e3),r===void 0&&(r="");var i=t.call(this,"close",o)||this;return i.wasClean=!0,i.code=n,i.reason=r,i}return e}(We);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var $t=function(){if(typeof WebSocket<"u")return WebSocket},xt=function(t){return typeof t<"u"&&!!t&&t.CLOSING===2},k={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},Lt=function(){function t(e,n,r){var o=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(i){o._debug("open event");var s=o._options.minUptime,f=s===void 0?k.minUptime:s;clearTimeout(o._connectTimeout),o._uptimeTimeout=setTimeout(function(){return o._acceptOpen()},f),o._ws.binaryType=o._binaryType,o._messageQueue.forEach(function(l){return o._ws.send(l)}),o._messageQueue=[],o.onopen&&o.onopen(i),o._listeners.open.forEach(function(l){return o._callEventListener(i,l)})},this._handleMessage=function(i){o._debug("message event"),o.onmessage&&o.onmessage(i),o._listeners.message.forEach(function(s){return o._callEventListener(i,s)})},this._handleError=function(i){o._debug("error event",i.message),o._disconnect(void 0,i.message==="TIMEOUT"?"timeout":void 0),o.onerror&&o.onerror(i),o._debug("exec error listeners"),o._listeners.error.forEach(function(s){return o._callEventListener(i,s)}),o._connect()},this._handleClose=function(i){o._debug("close event"),o._clearTimeouts(),o._shouldReconnect&&o._connect(),o.onclose&&o.onclose(i),o._listeners.close.forEach(function(s){return o._callEventListener(i,s)})},this._url=e,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(n,r){return typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(e,n){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,n)},t.prototype.reconnect=function(e,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,n),this._connect())},t.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var n=this._options.maxEnqueuedMessages,r=n===void 0?k.maxEnqueuedMessages:n;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}},t.prototype.addEventListener=function(e,n){this._listeners[e]&&this._listeners[e].push(n)},t.prototype.dispatchEvent=function(e){var n,r,o=this._listeners[e.type];if(o)try{for(var i=vt(o),s=i.next();!s.done;s=i.next()){var f=s.value;this._callEventListener(e,f)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},t.prototype.removeEventListener=function(e,n){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(r){return r!==n}))},t.prototype._debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._options.debug&&console.log.apply(console,Ct(["RWS>"],e))},t.prototype._getNextDelay=function(){var e=this._options,n=e.reconnectionDelayGrowFactor,r=n===void 0?k.reconnectionDelayGrowFactor:n,o=e.minReconnectionDelay,i=o===void 0?k.minReconnectionDelay:o,s=e.maxReconnectionDelay,f=s===void 0?k.maxReconnectionDelay:s,l=0;return this._retryCount>0&&(l=i*Math.pow(r,this._retryCount-1),l>f&&(l=f)),this._debug("next delay",l),l},t.prototype._wait=function(){var e=this;return new Promise(function(n){setTimeout(n,e._getNextDelay())})},t.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var n=e();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},t.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,r=n.maxRetries,o=r===void 0?k.maxRetries:r,i=n.connectionTimeout,s=i===void 0?k.connectionTimeout:i,f=n.WebSocket,l=f===void 0?$t():f;if(this._retryCount>=o){this._debug("max retries reached",this._retryCount,">=",o);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!xt(l))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(c){e._closeCalled||(e._debug("connect",{url:c,protocols:e._protocols}),e._ws=e._protocols?new l(c,e._protocols):new l(c),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},s))})}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new St(Error("TIMEOUT"),this))},t.prototype._disconnect=function(e,n){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,n),this._handleClose(new Ot(e,n,this))}catch{}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(e,n){"handleEvent"in n?n.handleEvent(e):n(e)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}(),y=[];for(var ce=0;ce<256;++ce)y.push((ce+256).toString(16).slice(1));function kt(t,e=0){return(y[t[e+0]]+y[t[e+1]]+y[t[e+2]]+y[t[e+3]]+"-"+y[t[e+4]]+y[t[e+5]]+"-"+y[t[e+6]]+y[t[e+7]]+"-"+y[t[e+8]]+y[t[e+9]]+"-"+y[t[e+10]]+y[t[e+11]]+y[t[e+12]]+y[t[e+13]]+y[t[e+14]]+y[t[e+15]]).toLowerCase()}var z,Tt=new Uint8Array(16);function Mt(){if(!z&&(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(Tt)}var It=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Te={randomUUID:It};function At(t,e,n){if(Te.randomUUID&&!e&&!t)return Te.randomUUID();t=t||{};var r=t.random||(t.rng||Mt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kt(r)}const ue=new Fe({debug:window.runtimeData.debug});function Nt(t=null,e=!0,n=!1,r=!1){const o=[];let i=[],s=[],f;const l=At(),c={send:u=>{console.warn("WebSocket is disabled, cannot send data:",u)},post:(u,a)=>{Array.isArray(u)?u.forEach(h=>d(h,a)):d(u,a)},on:(u,a)=>{Array.isArray(a)?a.forEach(h=>S(h,u)):S(a,u)},open:u=>{},close:u=>{console.warn("WebSocket is disabled, no connection to close."),u&&u()},addEventListener:(u,a)=>{},removeEventListener:(u,a)=>{},onmessage:null,onopen:null,onclose:null,onerror:null};function d(u,a){Array.isArray(a)?a.forEach(h=>_(h,u)):_(a,u)}function _(u,a){ue.info(`--- ws post, ${u}`,a),u==="iframe"&&t&&t.contentWindow.postMessage?t.contentWindow.postMessage(a,"*"):u==="parent"&&window.parent?window.parent.postMessage(a,"*"):u==="ws"?e&&(!g||g.readyState!==WebSocket.OPEN?(console.warn("WebSocket is disabled or not open, queuing message:",a),o.push({message:a,via:u})):g.send(JSON.stringify(a))):console.warn(`Cannot send message via ${u}.`)}function S(u,a){u==="window"?window.addEventListener("message",a):u==="parent"&&window.parent?window.addEventListener("message",h=>{h.source===window.parent&&a(h)}):u==="ws"&&e?g.addEventListener("message",async h=>{let m;h.data instanceof Blob?m=await h.data.text():m=h.data;let v;try{v=JSON.parse(m);const x={...h,data:v};a(x),I(v)}catch(x){console.error("Failed to parse WebSocket message data:",x),a(h)}}):console.warn(`Cannot add message listener via ${u}.`)}function I(u){if(u.pluginMessage){if(u.pluginMessage.event==="pong"&&ue.info("Received pong from server"),u.pluginMessage.event==="client_list"){const a=u.pluginMessage.clients||[];X.set(a)}u.pluginMessage.event==="client_connected"?X.update(a=>[...a,u.pluginMessage.clientId]):u.pluginMessage.event==="client_disconnected"&&X.update(a=>a.filter(h=>h!==u.pluginMessage.clientId))}}if(!e||!("WebSocket"in window))return c;let g=new Lt("ws://localhost:9001/ws");return g.post=(u,a=["ws"])=>{Array.isArray(u)?u.forEach(h=>d(h,a)):d(u,a)},g.on=(u,a=["ws"])=>{Array.isArray(a)?a.forEach(h=>S(h,u)):S(a,u)},g.open=u=>{i.push(u),g.readyState===WebSocket.OPEN&&u()},g.close=u=>{s.push(u),g.readyState===WebSocket.OPEN?(g.addEventListener("close",()=>{clearInterval(f),s.forEach(a=>a&&a())}),g.close()):(ue.info("WebSocket is not open, nothing to close."),u&&u())},e&&(g.onopen=()=>{for(i.forEach(u=>u());o.length>0;){const{message:u,via:a}=o.shift();d(u,a)}g.send(JSON.stringify({pluginMessage:{event:"client_connected",clientId:l},pluginId:"*"})),f=window.setInterval(()=>{g.readyState===WebSocket.OPEN&&g.send(JSON.stringify({pluginMessage:{event:"ping"},pluginId:"*"}))},1e4)}),g}function Pt(t){let e,n,r,o;const i=[Dt,Rt],s=[];function f(l,c){return l[2]?0:1}return e=f(t),n=s[e]=i[e](t),{c(){n.c(),r=ye()},m(l,c){s[e].m(l,c),B(l,r,c),o=!0},p(l,c){let d=e;e=f(l),e===d?s[e].p(l,c):(Re(),O(s[d],1,1,()=>{s[d]=null}),De(),n=s[e],n?n.p(l,c):(n=s[e]=i[e](l),n.c()),C(n,1),n.m(r.parentNode,r))},i(l){o||(C(n),o=!0)},o(l){O(n),o=!1},d(l){l&&M(r),s[e].d(l)}}}function Rt(t){let e,n;return e=new ne({}),{c(){te(e.$$.fragment)},m(r,o){Y(e,r,o),n=!0},p:w,i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Dt(t){let e,n,r,o;const i=[Ft,Bt,jt],s=[];function f(l,c){return l[5]?l[1]?l[0].length>0?-1:2:1:0}return~(e=f(t))&&(n=s[e]=i[e](t)),{c(){n&&n.c(),r=ye()},m(l,c){~e&&s[e].m(l,c),B(l,r,c),o=!0},p(l,c){let d=e;e=f(l),e!==d&&(n&&(Re(),O(s[d],1,1,()=>{s[d]=null}),De()),~e?(n=s[e],n||(n=s[e]=i[e](l),n.c()),C(n,1),n.m(r.parentNode,r)):n=null)},i(l){o||(C(n),o=!0)},o(l){O(n),o=!1},d(l){l&&M(r),~e&&s[e].d(l)}}}function jt(t){let e,n;return e=new ne({props:{message:"Open plugin inside Figma"}}),{c(){te(e.$$.fragment)},m(r,o){Y(e,r,o),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Bt(t){let e,n;return e=new ne({props:{message:"Connecting to websocket server..."}}),{c(){te(e.$$.fragment)},m(r,o){Y(e,r,o),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Ft(t){let e,n;return e=new ne({props:{message:"Websockets disababled"}}),{c(){te(e.$$.fragment)},m(r,o){Y(e,r,o),n=!0},i(r){n||(C(e.$$.fragment,r),n=!0)},o(r){O(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Ut(t){let e,n,r=!(t[3]||t[4])&&Pt(t);return{c(){r&&r.c(),e=ye()},m(o,i){r&&r.m(o,i),B(o,e,i),n=!0},p(o,[i]){o[3]||o[4]||r.p(o,i)},i(o){n||(C(r),n=!0)},o(o){O(r),n=!1},d(o){o&&M(e),r&&r.d(o)}}}function Wt(){let t={pluginMessage:{type:"GET_FIGMA_CLASSES_AND_STYLES"},pluginId:"*"};parent.postMessage(t,"*")}function Gt(){document.addEventListener("keydown",t=>{t.keyCode===80&&!t.shiftKey&&t.altKey&&!t.ctrlKey&&t.metaKey?(window.parent.postMessage("$INTERNAL_DO_NOT_USE$RERUN_PLUGIN$","*"),t.stopPropagation(),t.stopImmediatePropagation()):t.metaKey&&(t.keyCode===65?document.execCommand("selectAll"):t.keyCode===90?t.shiftKey?document.execCommand("redo"):document.execCommand("undo"):(t.key==="x"||t.key,t.key==="c"||t.key,t.key==="v"||t.key))},!0)}function Vt(t,e,n){let r;He(t,X,a=>n(0,r=a));const o=document.querySelector("html"),i=window.self!==window.top,s=typeof figma<"u";let f=!1,l=window.runtimeData.websockets||!1,c=Nt(null,window.runtimeData.websockets),d=`http://localhost:${window.runtimeData.port}`;new Fe({debug:window.runtimeData.debug});function _(){const a=h=>{const m=h.data.pluginMessage;if(m.type==="FIGMA_HTML_CLASSES"&&(o.className=m.data,localStorage.setItem("figmaHtmlClasses",m.data)),m.type==="FIGMA_STYLES"){const v=document.createElement("style");v.type="text/css",v.innerText=m.data,document.head.appendChild(v),localStorage.setItem("figmaStyles",m.data)}};c.on(a,"window")}function S(){const a=localStorage.getItem("figmaHtmlClasses");a&&(o.className=a);const h=localStorage.getItem("figmaStyles");if(h){const m=document.createElement("style");m.type="text/css",m.innerText=h,document.head.appendChild(m)}}function I(){if(!(i||s)){let x=function($){v.forEach(L=>{try{L($)}catch(re){console.error("Error in message listener:",re)}})};var a=x;let h=window.addEventListener,m=null,v=[];window.addEventListener=function($,L,re){$==="message"?v.push(L):h.call(window,$,L,re)},c.on($=>{x($)},"ws"),Object.defineProperty(window,"onmessage",{get(){return m},set($){m=$,c.on(L=>{m&&m(L),x(L)},"ws")}})}}function g(){i||s||(window.postMessage=function(a,h,m){return rt(),c.post(a,"ws"),null})}Gt(),g(),I(),_(),S(),c.open(()=>{n(1,f=!0),Wt()}),c.close(()=>{n(1,f=!1)});let u=!0;return Ze(async()=>{parent.postMessage({pluginMessage:{type:"VITE_APP_MOUNTED"},pluginId:"*"},"*")}),t.$$.update=()=>{t.$$.dirty&1&&console.log("remoteClients",r)},ot(d,null,a=>{n(2,u=a)}),[r,f,u,i,s,l]}class Yt extends Be{constructor(e){super(),je(this,e,Vt,Ut,me,{})}}const qt="ViteApp";new Yt({target:document.getElementById(qt)});
</script>
<div id="ViteApp"></div>